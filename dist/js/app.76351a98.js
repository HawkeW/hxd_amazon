(function(e){function t(t){for(var a,o,l=t[0],c=t[1],s=t[2],p=0,d=[];p<l.length;p++)o=l[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/hxd_amazon/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"093e":function(e,t,n){function a(e){if("number"!==typeof e||e<0)return e;var t=parseInt(e/3600);e%=3600;var n=parseInt(e/60);e%=60;var a=e;return[t,n,a].map((function(e){return e=e.toString(),e[1]?e:"0"+e})).join(":")}function r(e){var t=new Date(e),n=t.getFullYear(),a=t.getDate(),r=t.getMonth()+1,i=t.getHours();return"".concat(n).concat(r<10?"0"+r:r).concat(a<10?"0"+a:a).concat(i<10?"0"+i:i)}n("99af"),n("c975"),n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276");var i={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(e){var t="";for(var n in this.UNITS)if(e>=this.UNITS[n]){t=Math.floor(e/this.UNITS[n])+n+"前";break}return t||"刚刚"},format:function(e){e.indexOf("-")>-1&&(e=e.replace(/-/g,"/"));var t=new Date(e),n=Date.now()-t;if(n<this.UNITS["天"])return this.humanize(n);var a=function(e){return e<10?"0"+e:e};return t.getFullYear()+"/"+a(t.getMonth()+1)+"/"+a(t.getDate())},parse:function(e){var t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}};function o(e){if("number"!==typeof e)return e;var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),i=t.getHours(),o=t.getMinutes(),l=t.getSeconds();return"".concat(n,"-").concat(a<=9?"0".concat(a):a,"-").concat(r<=9?"0".concat(r):r," ").concat(i<=9?"0".concat(i):i,":").concat(o<=9?"0".concat(o):o,":").concat(l<=9?"0".concat(l):l)}e.exports={formatTime:a,dateUtils:i,format:o,formatToYMDH:r}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h2",[e._v("Best Sellers in Electronics")]),n("HelloWorld")],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("div",{staticClass:"filter-area"},[n("div",{staticClass:"filter-note"},[e._v("筛选")]),n("el-row",{staticClass:"filter",attrs:{type:"flex",justify:"start",gutter:20}},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"filter-section"},[n("span",{staticClass:"filter-date-info"},[e._v("选择日期")]),n("el-date-picker",{staticClass:"filter-input",attrs:{type:"date",size:"mini","picker-options":e.pickerOptions,placeholder:"选择日期"},on:{change:e.handleDateChange,focus:e.handleFoucus},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),n("el-time-picker",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTime,expression:"loadingTime"}],staticClass:"filter-input",attrs:{size:"mini",format:"HH","picker-options":{selectableRange:e.currentAvailableTime},placeholder:"选择时间"},on:{change:e.handleTimeChange},model:{value:e.selectedTime,callback:function(t){e.selectedTime=t},expression:"selectedTime"}})],1)]),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"filter-section"},[n("span",{staticClass:"filter-date-info"},[e._v("每页数量")]),n("el-input",{staticClass:"filter-input",attrs:{size:"mini",width:"220",type:"number",placeholder:"请输入内容"},on:{change:e.handlePageSizeChange},model:{value:e.pageSize,callback:function(t){e.pageSize=e._n(t)},expression:"pageSize"}})],1)])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"920px",margin:"0 auto"},attrs:{data:e.tableData,border:"",stripe:""}},[n("el-table-column",{attrs:{prop:"rank",label:"排名",width:"50",align:"center"}}),n("el-table-column",{attrs:{prop:"s_time",label:"创建时间",width:"120",align:"center"}}),n("el-table-column",{attrs:{prop:"img_url",label:"首图",width:"170",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.img_url,lazy:""}})]}}])}),n("el-table-column",{attrs:{prop:"name",label:"产品名称",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{attrs:{href:t.row.goods_url,alt:"",target:"_blank"}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"brand",label:"品牌/商家",width:"100",align:"center"}}),n("el-table-column",{attrs:{prop:"price",label:"价格",width:"130",align:"center"}}),n("el-table-column",{attrs:{prop:"score",label:"评分",width:"50",align:"center"}}),n("el-table-column",{attrs:{prop:"questions",label:"问题",width:"80",align:"center"}})],1),n("el-pagination",{attrs:{"page-size":e.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)},l=[],c=(n("99af"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("a9e3"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("2909")),s=n("093e"),u=(n("d3b7"),n("bc3a")),p=n.n(u),d=p.a.create({timeout:1e4,baseURL:"http://129.211.77.253:8000"});d.defaults.headers.post["Content-Type"]="application/json",d.interceptors.request.use((function(e){return e}),(function(e){return Promise.error(e)})),d.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e.data):Promise.reject(e.data)}),(function(e){if(e.response){switch(e.response.status){case 401:break;case 403:break;case 404:break;default:}return Promise.reject(e)}if(window.navigator.onLine)return Promise.reject(e);console.log("no network")}));var f=d;function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.post("/amazon/best_seller_list/",e)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.post("/amazon/best_time/list/",e)}var m={name:"HelloWorld",props:{msg:String},data:function(){return{tableData:[],pageSize:10,pageIndex:1,time:new Date,currentDate:"",selectedDate:new Date,selectedTime:"18:30:00",currentAvailableTime:["18:30:00 - 20:30:00"],total:0,loading:!1,loadingTime:!1,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},mounted:function(){this.init()},methods:{init:function(){this.currentDate=Object(s["formatToYMDH"])(this.selectedDate).slice(0,8),this.getList(this.currentDate),this.getAvailableTime(this.currentDate)},getList:function(e){var t=this;if(e){this.loading=!0;var n={time:e,page_index:this.pageIndex,page_size:this.pageSize};h(n).then((function(e){var n=e.data;t.tableData=Object(c["a"])(n.goods_info),t.total=n.total,t.handleBrand(),t.loading=!1}))}},handleBrand:function(){this.tableData.forEach((function(e){if(e.brand=-1==e.brand.indexOf("Brand")?e.brand.replace("Visit the ","").replace(" Store",""):e.brand.replace("Brand: ",""),"[]"===e.price)e.price="--";else{var t=e.price.split("'");e.price=t.length>3?"".concat(t[1].split("$")[1],"~").concat(t[3].split("$")[1]):"".concat(t[1].split("$")[1])}}))},handleCurrentChange:function(e){this.pageIndex=e,this.getList()},handleTimeChange:function(){if(this.selectedTime){var e=this.selectedDate.getFullYear(),t=this.selectedDate.getMonth(),n=this.selectedDate.getDate(),a=this.selectedTime.getHours(),r=Object(s["formatToYMDH"])(new Date(e,t,n,a));this.getList(r)}},handleDateChange:function(){var e=Object(s["formatToYMDH"])(this.selectedDate).slice(0,8);e!==this.currentDate&&(this.currentDate=e,this.getAvailableTime(this.currentDate))},handleFoucus:function(){console.log("foucus")},getAvailableTime:function(e){var t=this;this.loadingTime=!0,this.pickerOptions.selectableRange="";var n={time:e};g(n).then((function(e){var n=e.data;t.currentAvailableTime=n.map((function(e){var t=Number(e.slice(8));return"".concat(t,":00:00 - ").concat(t,":59:59")})),t.loadingTime=!1,t.pickerOptions.selectableRange=Object(c["a"])(t.currentAvailableTime)}))},handlePageSizeChange:function(e){console.log(e)}}},b=m,v=(n("5943"),n("2877")),w=Object(v["a"])(b,o,l,!1,null,"16180fd2",null),D=w.exports,T={name:"App",components:{HelloWorld:D}},_=T,y=(n("034f"),Object(v["a"])(_,r,i,!1,null,null,null)),S=y.exports,x=n("5c96"),O=n.n(x);n("0fae");a["default"].config.productionTip=!1,a["default"].use(O.a),new a["default"]({render:function(e){return e(S)}}).$mount("#app")},5943:function(e,t,n){"use strict";n("762b")},"762b":function(e,t,n){},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.76351a98.js.map